<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><%= link_to "Home", dashboard_path, class: "text-secondary" %></li>
    <li class="breadcrumb-item active" aria-current="page">Courses</li>
  </ol>
</nav>

<h1 class = "mt-3">Course List</h1>
<% if current_user.role == "tutor" %>
  <%= link_to new_course_path, class: "btn btn-success text-light" do %>
    <i class="fas fa-plus"></i>
    Course
  <% end %>
<% end %>

<%# Fix below %>
<% unless @courses.count == 0 %>
  <% @courses.each do |course| %>
    <div class="card-product d-flex justify-content-between mt-3 p-2">
      <%= link_to '', course_assignments_path(course), class: "card-link" %>
      <div class="card-main-info d-flex align-items-center">
        <% if defined? course.photo.key %>
          <%= cl_image_tag course.photo.key, class: "card-product-img" %>
        <% else %>
          <%= image_tag 'No image.png', class: "card-product-img" %>
        <% end %>
        <div class="card-product-infos">
          <div class="d-flex align-items-center">
            <h2><%= course.name %></h2>
            <div class="card-product-icon ms-3">
              <% if current_user.role == "tutor" %>
                <% if defined? course.student.photo.key %>
                  <%= cl_image_tag course.student.photo.key, class: "avatar-course" %>
                <% else %>
                  <%= image_tag 'avatar.png', class: "avatar-course" %>
                <% end %>
              <% else %>
                <% if defined? course.tutor.photo.key %>
                  <%= cl_image_tag course.tutor.photo.key, class: "avatar-course" %>
                <% else %>
                  <%= image_tag 'avatar.png', class: "avatar-course" %>
                <% end %>
              <% end %>
            </div>
          </div>
          <p><%= course.description %></p>
        </div>
      </div>
      <div class="buttons ">
        <% if current_user.role == "tutor" %>
          <%= link_to edit_course_path(course), class: "btn btn-outline-success" do %>
            <i class="fas fa-edit"></i>
          <% end %>
          <%= link_to course_path(course), method: :delete, class: "btn btn-outline-secondary ms-2", data: { confirm: 'Do you really want to delete the course?' } do %>
            <i class="fas fa-trash-alt"></i>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>
<% else %>
  <span class="ms-5 text-secondary">No data</span>
<% end %>
